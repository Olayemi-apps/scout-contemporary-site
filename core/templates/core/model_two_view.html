{% extends 'core/base.html' %}
{% load static %}

{% block title %}Scout Electric - Model One 360¬∞ Viewer{% endblock %}

{% block content %}
<!-- Car Information Box (Now Moved to Bottom Right) -->
<div class="model-container-360">
    <h1>Scout Electric Model One</h1>
    <p>Powerful, rugged, and built for adventure. The Model One combines advanced electric performance with off-road capability.</p>
    <ul>
        <li><strong>üîã Battery:</strong> 85 kWh</li>
        <li><strong>‚ö° Charge Time:</strong> Fast DC (0-80% in 30 mins)</li>
        <li><strong>üöó Range:</strong> 300 miles</li>
        <li><strong>üèéÔ∏è Acceleration:</strong> 0-60 mph in 3.2s</li>
    </ul>
    <a href="{% url 'model_one_view' %}" class="button">Explore Model One</a>
</div>

<!-- Fullscreen Background iframe -->

<iframe 
    id="background-iframe" 
    data-src="https://3dmodels.org/360-view/?id=285751"
    width="100%" 
    height="100vh"
    frameborder="0"
    scrolling="no"
    loading="lazy"
    sandbox="allow-scripts allow-same-origin allow-popups">
</iframe>



<!-- Lazy Loading Script -->
<script src="{% static 'core/js/lazy_iframe.js' %}"></script>


<style>
/* Loading Overlay */
#loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

/* Simple Spinner */
.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top: 4px solid #fff;
    animation: spin 1s linear infinite;
    margin-bottom: 10px;
}


@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 360¬∞ Model Viewer Container */
#background-iframe {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;
    border: none;
    transition: opacity 0.6s ease-in-out;
    overflow: hidden;
}

/* Car Info Box */
.model-container-360 {
    position: absolute;
    bottom: 5%;
    right: 3%;
    text-align: left;
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(10px);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0px 10px 25px rgba(0, 0, 0, 0.2);
    width: 30%;
    max-width: 450px;
    animation: fadeIn 0.8s ease-in-out;
}

/* Fade-In Animation */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Consolidated CSS for Hiding Unwanted Elements */
.similar-3d-models, .related-models, 
img[itemprop="image"], .offer-price, 
.cookie-banner, .gdpr-banner, .cookie-settings, 
#consent_banner, .cookie-notice, .search-bar {
    display: none !important;
}

/* Responsive Fix */
@media (max-width: 768px) {
    .model-container-360 {
        width: 90%;
        right: 5%;
        bottom: 10%;
        padding: 15px;
    }
}
</style>
{% endblock %}